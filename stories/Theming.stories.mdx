import { Description, Meta, Canvas, Story, Source } from '@storybook/addon-docs';
import { CssPropsBlock } from "@innofake/storybook-addon-cssprops";
import { html, css } from 'lit';
import { loadThemeVariablesRemote, markdownCodeRemote, loadThemesListRemote, loadFileRemote } from '../src/utils/StoryUtils';
import { customTheme, uploadTheme } from '../.storybook/preview.js';

import '../dist/label';
import '../dist/button';
import '../dist/switch';
import '../dist/check';

<Meta title="Theme Support" parameters={{ 
  cssprops: loadThemeVariablesRemote(),
  docs: {
		source: {
			state: false,
			format: false
		},
  }
}}/>


<style>{`

  .title {
    --omni-label-title-font-size: 34pt;
  }

  .live-section {
    background-color: var(--omni-theme-filled-background-color, white);
    padding: 20px;
  }

  .css-1p8ieni {
    font-family: inherit;
    font-size: inherit;
    color: inherit;
  }

  .flex-row {
    display: inline-flex;
    flex-direction: row;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    margin: 6px;
  }

  .flex-row > * {
    margin: 6px;
  }

  .hidden {
    display: none;
  }

  
`}</style>

<div class="live-section">

<omni-label class="title" label="Theme Support" type="title"></omni-label>

<omni-label label="All Omni Components support our theme CSS variables" type="subtitle"></omni-label>

<omni-label type="default">

Theme variables are used to style the overall theme of all Omni Components. 
Each component also can still be styled individually using their own component specific css variables, which would override the theme if specified.

Theme variables typically affect 
&nbsp;&nbsp;&nbsp;&nbsp;◉ shared colors
&nbsp;&nbsp;&nbsp;&nbsp;◉ fonts
&nbsp;&nbsp;&nbsp;&nbsp;◉ borders
&nbsp;&nbsp;&nbsp;&nbsp;◉ accessibility options


Currently provided theme variables are listed below and can be modified for a live preview of its effects on components.

</omni-label>

</div>

<!-- This is to enable changing if themes as it only applies when stories are available -->

<Story name="Theme Support" 
      decorators={[(story) => html`<div class="flex-row">${story()}</div>`]} >{
  html`
          <omni-button label="Button" type="primary"></omni-button>
          <omni-switch label="Switch" checked></omni-switch>
          <omni-check label="Check" checked></omni-check>
      `
}</Story>



<CssPropsBlock />

<omni-label label="Example Themes Source" type="title"></omni-label>
<div>{
  loadThemesListRemote().map(theme => {
    return (
            <div>
            <omni-label label={theme} type="subtitle"></omni-label>
            <Source
                language="css"
                code={loadFileRemote(`themes/${theme}`)}
                format={false}
                dark
            />
            </div>)
  })
  }</div>


<div>
  <omni-label label="Upload Custom Theme" type="subtitle"></omni-label>
  <br/>
  <input className="hidden" id="cssValue" type="file" accept=".css" onInput={(e) => uploadTheme(e)} />
  <omni-button label="Upload Custom Theme" type="secondary" onClick={(e) => document.getElementById('cssValue').click()} ></omni-button>
</div>

  